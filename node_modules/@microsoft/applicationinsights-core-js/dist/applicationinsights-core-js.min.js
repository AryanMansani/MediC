/*!
 * Application Insights JavaScript SDK - Core, 2.7.3
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}))}(this,function(l){"use strict";var o={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},u="function",s="object",n="undefined",a="prototype",r="hasOwnProperty",c=Object,y=c[a],C=c.assign,m=c.create,e=c.defineProperty,x=y[r],S=null;function b(e){return void 0===e&&(e=!0),S&&e||(typeof globalThis!==n&&globalThis&&(S=globalThis),typeof self!==n&&self&&(S=self),typeof window!==n&&window&&(S=window),typeof global!==n&&global&&(S=global)),S}function I(e){throw new TypeError(e)}function T(e){if(m)return m(e);if(null==e)return{};var n=typeof e;function t(){}return n!==s&&n!==u&&I("Object prototype may only be an Object:"+e),t[a]=e,new t}(b()||{}).Symbol,(b()||{}).Reflect;var w=function(e,n){return(w=c.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n[r](t)&&(e[t]=n[t])})(e,n)};function E(e,n){function t(){this.constructor=e}typeof n!==u&&null!==n&&I("Class extends value "+n+" is not a constructor or null"),w(e,n),e[a]=null===n?T(n):(t[a]=n[a],new t)}function N(e,n){for(var t=0,r=n.length,i=e.length;t<r;t++,i++)e[i]=n[t];return e}var L="constructor",P="prototype",M="function",k="_dynInstFuncs",A="_isDynProxy",F="_dynClass",_="_dynInstChk",R=_,O="_dfOpts",D="_unknown_",j="__proto__",U="useBaseInst",z="setInstFuncs",B=Object,K=B.getPrototypeOf,q=0;function V(e,n){return e&&B[P].hasOwnProperty.call(e,n)}function G(e){return e&&(e===B[P]||e===Array[P])}function W(e){return G(e)||e===Function[P]}function H(e){if(e){if(K)return K(e);e=e[j]||e[P]||(e[L]?e[L][P]:null);if(e)return e}return null}function J(e,n){var t=[],r=B.getOwnPropertyNames;if(r)t=r(e);else for(var i in e)"string"==typeof i&&V(e,i)&&t.push(i);if(t&&0<t.length)for(var o=0;o<t.length;o++)n(t[o])}function X(e,n,t){return n!==L&&typeof e[n]===M&&(t||V(e,n))}function Q(e){throw new TypeError("DynamicProto: "+e)}function $(e,n){for(var t=e.length-1;0<=t;t--)if(e[t]===n)return 1}function Z(e,n){return V(e,P)?e.name||n||D:((e||{})[L]||{}).name||n||D}function Y(e,r,n,t){V(e,P)||Q("theClass is an invalid class definition.");var l,i,o,a,f,g,u=e[P],s=(function(e){if(K)for(var n=[],t=H(r);t&&!W(t)&&!$(n,t);){if(t===e)return 1;n.push(t),t=H(t)}}(u)||Q("["+Z(e)+"] is not in class hierarchy of ["+Z(r)+"]"),null),e=(V(u,F)?s=u[F]:(s="_dynCls$"+Z(e,"_")+"$"+q,q++,u[F]=s),Y[O]),c=!!e[U],d=(c&&t&&t[U]!==undefined&&(c=!!t[U]),i={},J(l=r,function(e){!i[e]&&X(l,e,!1)&&(i[e]=l[e])}),i),c=(n(r,function(e,n,t,o){function r(e,n,t){var r,i=n[t];return i[A]&&o&&!1!==(r=e[k]||{})[R]&&(i=(r[n[F]]||{})[t]||i),function(){return i.apply(e,arguments)}}for(var i={},a=(J(t,function(e){i[e]=r(n,t,e)}),H(e)),u=[];a&&!W(a)&&!$(u,a);)J(a,function(e){!i[e]&&X(a,e,!K)&&(i[e]=r(n,a,e))}),u.push(a),a=H(a);return i}(u,r,d,c)),!!K&&!!e[z]);o=u,n=s,a=r,f=d,e=!1!==(c=c&&t?!!t[z]:c),G(o)||(u=a[k]=a[k]||{},g=u[n]=u[n]||{},!1!==u[R]&&(u[R]=!!e),J(a,function(e){var t,r,i;X(a,e,!1)&&a[e]!==f[e]&&(g[e]=a[e],delete a[e],V(o,e)&&(!o[e]||o[e][A])||(o[e]=(t=o,r=e,(i=function(){var e,n;return(function(e,n,t,l){var r=null;if(e&&V(t,F)){var i=e[k]||{};if((r=(i[t[F]]||{})[n])||Q("Missing ["+n+"] "+M),!r[_]&&!1!==i[R]){for(var o=!V(e,n),a=H(e),u=[];o&&a&&!W(a)&&!$(u,a);){var s=a[n];if(s){o=s===l;break}u.push(a),a=H(a)}try{o&&(e[n]=r),r[_]=1}catch(c){i[R]=!1}}}return r}(this,r,t,i)||(typeof(n=(n=t[e=r])===i?H(t)[e]:n)!==M&&Q("["+e+"] is not a "+M),n)).apply(this,arguments)})[A]=1,i)))}))}Y[O]={setInstFuncs:!0,useBaseInst:!0},l.LoggingSeverity=void 0,(Bn=l.LoggingSeverity||(l.LoggingSeverity={}))[Bn.CRITICAL=1]="CRITICAL",Bn[Bn.WARNING=2]="WARNING";var ee={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},ne="on",te="attachEvent",re="addEventListener",ie="detachEvent",oe="removeEventListener",ae="toISOString",ue=e,se=c.freeze,ce=c.seal;function le(e){return y.toString.call(e)}function fe(e,n){return typeof e===n}function d(e){return e===undefined||typeof e===n}function v(e){return null===e||d(e)}function ge(e){return!v(e)}function de(e,n){return e&&x.call(e,n)}function ve(e){return typeof e===s}function f(e){return typeof e===u}function pe(e,n,t,r){void 0===r&&(r=!1);var i=!1;if(!v(e))try{v(e[re])?v(e[te])||(e[te](ne+n,t),i=!0):(e[re](n,t,r),i=!0)}catch(o){}return i}function he(e,n,t,r){if(void 0===r&&(r=!1),!v(e))try{v(e[oe])?v(e[ie])||e[ie](ne+n,t):e[oe](n,t,r)}catch(i){}}function ye(e,n){if(e)for(var t in e)x.call(e,t)&&n.call(e,t,e[t])}function Ce(e,n){if(e&&n){var t=n.length,r=e.length;if(e===n)return!0;if(t<=r){for(var i=r-1,o=t-1;0<=o;o--){if(e[i]!=n[o])return!1;i--}return!0}}return!1}function t(e,n){return!(!e||!n||!~e.indexOf(n))}function me(e){return"[object Date]"===le(e)}function xe(e){return"[object Array]"===le(e)}function Se(e){return"[object Error]"===le(e)}function be(e){return"string"==typeof e}function Ie(e){return"number"==typeof e}function Te(e){return"boolean"==typeof e}function we(e){var n;if(e)return e[ae]?e[ae]():me(e)?(n=function(e){e=""+e;return 1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+n(1+e.getUTCMonth())+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"):void 0}function g(e,n,t){var r=e.length;try{for(var i=0;i<r&&!(i in e&&-1===n.call(t||e,e[i],i,e));i++);}catch(o){}}function Ee(e,n,t){var r=e.length,t=t||0;try{for(var i=Math.max(0<=t?t:r-Math.abs(t),0);i<r;i++)if(i in e&&e[i]===n)return i}catch(o){}return-1}function Ne(e,n,t){var r=e.length,i=t||e,o=Array(r);try{for(var a=0;a<r;a++)a in e&&(o[a]=n.call(i,e[a],e))}catch(u){}return o}function Le(e,n,t){var r,i=e.length,o=0;if(3<=arguments.length)r=t;else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=n(r,e[o],o,e)),o++;return r}function Pe(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var Me=!{toString:null}.propertyIsEnumerable("toString"),ke=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ae(e){var n,t=typeof e,r=(t===u||t===s&&null!==e||I("objKeys called on non-object"),[]);for(n in e)e&&x.call(e,n)&&r.push(n);if(Me)for(var i=ke.length,o=0;o<i;o++)e&&x.call(e,ke[o])&&r.push(ke[o]);return r}function Fe(e,n,t,r){if(ue)try{var i={enumerable:!0,configurable:!0};return t&&(i.get=t),r&&(i.set=r),ue(e,n,i),!0}catch(o){}return!1}function _e(){var e=Date;return e.now?e.now():(new e).getTime()}function Re(e){return Se(e)?e.name:""}function p(e,n,t,r,i){var o=t;return e&&((o=e[n])===t||i&&!i(o)||r&&!r(t)||(e[n]=o=t)),o}function Oe(e,n,t){var r;return e?!(r=e[n])&&v(r)&&(r=d(t)?{}:t,e[n]=r):r=d(t)?{}:t,r}function De(e){return!e}function je(e){return!!e}function Ue(e){throw Error(e)}var ze="window",Be="navigator",Ke="location",qe="performance",Ve="JSON",Ge="crypto",We="msCrypto",He="msie",Je="trident/",Xe=null,Qe=null,$e=!1,Ze=null,Ye=null;function en(e,n){var t,r=!1;if(e){try{(r=n in e)||(t=e[a])&&(r=n in t)}catch(i){}if(!r)try{r=!d((new e)[n])}catch(i){}}return r}function i(e){var n=b();return n&&n[e]?n[e]:e===ze&&nn()?window:null}function nn(){return!(typeof window!==s||!window)}function tn(){return nn()?window:i(ze)}function rn(){return!(typeof document!==s||!document)}function on(){return rn()?document:i("document")}function an(){return!(typeof navigator!==s||!navigator)}function un(){return an()?navigator:i(Be)}function sn(){return!(typeof history!==s||!history)}function cn(e){if(e&&$e){e=i("__mockLocation");if(e)return e}return typeof location===s&&location?location:i(Ke)}function ln(){return typeof console!==n?console:i("console")}function fn(){return i(qe)}function gn(){return!!(typeof JSON===s&&JSON||null!==i(Ve))}function dn(){return gn()?JSON||i(Ve):null}function vn(){return i(Ge)}function pn(){return i(We)}function hn(){var e=un();return!e||e.userAgent===Qe&&null!==Xe||(e=((Qe=e.userAgent)||"").toLowerCase(),Xe=t(e,He)||t(e,Je)),Xe}function yn(e){var n=Object[a].toString.call(e),t="";return"[object Error]"===n?t="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":gn()&&(t=dn().stringify(e)),n+t}function Cn(){var e=!1;try{e=!!i("XMLHttpRequest")}catch(n){}return e}var mn,xn=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Sn=null;function bn(e){var n=Sn;return(n=n||!0===e.disableDbgExt?n:Sn||(e=i("Microsoft"),Sn=e?e.ApplicationInsights:Sn))?n.ChromeDbgExt:null}function In(e){if(!mn){mn={};for(var n=0;n<xn.length;n++)mn[xn[n]]=function(n,t){return function(){var e=bn(t);!e||(e=e.listener)&&e[n]&&e[n].apply(e,arguments)}}(xn[n],e)}return mn}function Tn(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function wn(e,n){var t,r=ln();r&&(t="log",f(r[t=r[e]?e:t])&&r[t](n))}Nn.dataType="MessageData";var En=Nn;function Nn(e,n,t,r){void 0===t&&(t=!1),this.messageId=e,this.message=(t?"AI: ":"AI (Internal): ")+e;t="",gn()&&(t=dn().stringify(r)),e=(n?" message:"+Tn(n):"")+(r?" props:"+Tn(t):"");this.message+=e}function Ln(e,n){return(e||{}).logger||new Pn(n)}var Pn=function sr(r){this.identifier="DiagnosticLogger",this.queue=[];var i=0,u={};Y(sr,this,function(o){function e(e,n){e=r[e];return v(e)?n:e}function a(e,n){var t=bn(r);t&&t.diagLog&&t.diagLog(e,n)}v(r)&&(r={}),o.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},o.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},o.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},o.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},o.throwInternal=function(e,n,t,r,i){n=new En(n,t,i=void 0!==i&&i,r);if(o.enableDebugExceptions())throw n;t=e===l.LoggingSeverity.CRITICAL?"errorToConsole":"warnToConsole";d(n.message)?a("throw"+(e===l.LoggingSeverity.CRITICAL?"Critical":"Warning"),n):(r=o.consoleLoggingLevel(),i?(i=+n.messageId,!u[i]&&e<=r&&(o[t](n.message),u[i]=!0)):e<=r&&o[t](n.message),o.logInternalMessage(e,n))},o.warnToConsole=function(e){wn("warn",e),a("warning",e)},o.errorToConsole=function(e){wn("error",e),a("error",e)},o.resetInternalMessageCount=function(){i=0,u={}},o.logInternalMessage=function(e,n){var t,r;i>=o.maxInternalMessageLimit()||(r=!0,t="AITR_"+n.messageId,u[t]?r=!1:u[t]=!0,r&&(e<=o.telemetryLoggingLevel()&&(o.queue.push(n),i++,a(e===l.LoggingSeverity.CRITICAL?"error":"warn",n)),i===o.maxInternalMessageLimit()&&(r=new En(ee.MessageLimitPerPVExceeded,t="Internal events throttle limit per PageView reached for this app.",!1),o.queue.push(r),e===l.LoggingSeverity.CRITICAL?o.errorToConsole(t):o.warnToConsole(t))))}})},Mn=null,kn=(An.ParentContextKey="parent",An.ChildrenContextKey="childEvts",An);function An(e,i,n){var t,o=this,a=!1;o.start=_e(),o.name=e,o.isAsync=n,o.isChildEvt=function(){return!1},f(i)&&(a=Fe(o,"payload",function(){return!t&&f(i)&&(t=i(),i=null),t})),o.getCtx=function(e){return e?(e===An.ParentContextKey||e===An.ChildrenContextKey?o:o.ctx||{})[e]:null},o.setCtx=function(e,n){e&&(e===An.ParentContextKey?(o[e]||(o.isChildEvt=function(){return!0}),o[e]=n):e===An.ChildrenContextKey?o[e]=n:(o.ctx=o.ctx||{})[e]=n)},o.complete=function(){var e=0,n=o.getCtx(An.ChildrenContextKey);if(xe(n))for(var t=0;t<n.length;t++){var r=n[t];r&&(e+=r.time)}o.time=_e()-o.start,o.exTime=o.time-e,o.complete=function(){},!a&&f(i)&&(o.payload=i())}}var Fn=function cr(n){this.ctx={},Y(cr,this,function(t){t.create=function(e,n,t){return new kn(e,n,t)},t.fire=function(e){e&&(e.complete(),n&&f(n.perfEvent)&&n.perfEvent(e))},t.setCtx=function(e,n){e&&((t.ctx=t.ctx||{})[e]=n)},t.getCtx=function(e){return(t.ctx||{})[e]}})},_n="CoreUtils.doPerf";function Rn(e,n,t,r,i){if(e)if(e=f(e.getPerfMgr)?e.getPerfMgr():e){var o,a=void 0,u=e.getCtx(_n);try{if(a=e.create(n(),r,i))return u&&a.setCtx&&(a.setCtx(kn.ParentContextKey,u),u.getCtx&&u.setCtx&&((o=u.getCtx(kn.ChildrenContextKey))||(o=[],u.setCtx(kn.ChildrenContextKey,o)),o.push(a))),e.setCtx(_n,a),t(a)}catch(s){a&&a.setCtx&&a.setCtx("exception",s)}finally{a&&e.fire(a),e.setCtx(_n,u)}}return t()}var On=function(i,n){var o=this,a=null,u=f(i.processTelemetry),s=f(i.setNextPlugin);o._hasRun=!1,o.getPlugin=function(){return i},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processTelemetry=function(t,r){r=r||n;var e=i?i.identifier:"TelemetryPluginChain";Rn(r?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&u){o._hasRun=!0;try{r.setNext(a),s&&i.setNextPlugin(a),a&&(a._hasRun=!1),i.processTelemetry(t,r)}catch(n){var e=a&&a._hasRun;a&&e||r.diagLog().throwInternal(l.LoggingSeverity.CRITICAL,ee.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+yn(n)),a&&!e&&a.processTelemetry(t,r)}}else a&&(o._hasRun=!0,a.processTelemetry(t,r))},function(){return{item:t}},!t.sync)}};function Dn(e,n){var t=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var o=e[i];o&&f(o.processTelemetry)&&(o=new On(o,n),t.push(o),r&&r.setNext(o),r=o)}return 0<t.length?t[0]:null}var jn=function lr(e,i,t,n){var r,o,a,u,s=this,c=null;null!==n&&(e&&f(e.getPlugin)?c=function(e,n,t){var r=[],i=!t;if(e)for(;e;){var o=e.getPlugin();!i&&o!==t||(i=!0,r.push(o)),e=e.getNext()}return i||r.push(t),Dn(r,n)}(e,s,n||e.getPlugin()):n?(r=s,a=e,u=!1,(o=n)&&e&&(a=[],g(e,function(e){!u&&e!==o||(u=!0,a.push(e))})),o&&!u&&(a=a||[]).push(o),c=Dn(a,r)):d(n)&&(c=Dn(e,s))),s.core=function(){return t},s.diagLog=function(){return Ln(t,i)},s.getCfg=function(){return i},s.getExtCfg=function(e,n){var t,r;return void 0===n&&(n={}),!i||(r=i.extensionConfig)&&e&&(t=r[e]),t||n},s.getConfig=function(e,n,t){void 0===t&&(t=!1);var r,e=s.getExtCfg(e,null);return e&&!v(e[n])?r=e[n]:i&&!v(i[n])&&(r=i[n]),v(r)?t:r},s.hasNext=function(){return null!=c},s.getNext=function(){return c},s.setNext=function(e){c=e},s.processNext=function(e){var n=c;n&&(c=n.getNext(),n.processTelemetry(e,s))},s.createNew=function(e,n){return new lr((e=void 0===e?null:e)||c,i,t,n)}},Un="extensionConfig",zn="getPlugin",Bn=(Kn.prototype.initialize=function(e,n,t,r){this._baseTelInit(e,n,t,r)},Kn);function Kn(){var o=this,a=!1,u=null,s=null;o.core=null,o.diagLog=function(e){return o._getTelCtx(e).diagLog()},o.isInitialized=function(){return a},o.setInitialized=function(e){a=e},o.setNextPlugin=function(e){s=e},o.processNext=function(e,n){n?n.processNext(e):s&&f(s.processTelemetry)&&s.processTelemetry(e,null)},o._getTelCtx=function(e){var n,e=e=void 0===e?null:e;return e||(n=u||new jn(null,{},o.core),e=s&&s[zn]?n.createNew(null,s[zn]):n.createNew(null,s)),e},o._baseTelInit=function(e,n,t,r){e&&p(e,Un,[],null,v),!r&&n&&(r=n.getProcessTelContext().getNext());var i=s;s&&s[zn]&&(i=s[zn]()),o.core=n,u=new jn(r,e,n,i),a=!0}}var qn="processTelemetry",Vn="priority",Gn="setNextPlugin",Wn="isInitialized";function Hn(n,t){for(var e=[],r=null,i=n.getNext();i;){var o=i.getPlugin();o&&(r&&f(r[Gn])&&f(o[qn])&&r[Gn](o),f(o[Wn])&&o[Wn]()||e.push(o),r=o,i=i.getNext())}g(e,function(e){e.initialize(n.getCfg(),n.core(),t,n.getNext())})}function Jn(e){return e.sort(function(e,n){var t=0,r=f(n[qn]);return f(e[qn])?t=r?e[Vn]-n[Vn]:1:r&&(t=-1),t})}E($n,Xn=Bn),$n._staticInit=(Fe(e=$n.prototype,"ChannelControls",e.getChannelControls),void Fe(e,"channelQueue",e.getChannelControls));var Xn,Qn=$n;function $n(){var s,r=Xn.call(this)||this;function c(e){e&&0<e.length&&(g(e=e.sort(function(e,n){return e.priority-n.priority}),function(e){e.priority<500&&Ue("Channel has invalid priority"+e.identifier)}),s.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,Y($n,r,function(a,u){a.setNextPlugin=function(e){},a.processTelemetry=function(n,t){s&&g(s,function(e){0<e.length&&r._getTelCtx(t).createNew(e).processNext(n)})},a.getChannelControls=function(){return s},a.initialize=function(n,t,r){var e,i,o;a.isInitialized()||(u.initialize(n,t,r),e=(n||{}).channels,i=r,s=[],e&&g(e,c),i&&(o=[],g(i,function(e){500<e.priority&&o.push(e)}),c(o)),g(s,function(e){return Hn(new jn(e,n,t),r)}))}}),r}var Zn="toGMTString",Yn="toUTCString",et="cookie",nt="expires",tt="enabled",rt="isCookieUseDisabled",it="disableCookiesUsage",ot="_ckMgr",h="",at=null,ut=null,st=null,ct=on(),lt={},ft={};function gt(e,n){var t=vt[ot]||ft[ot];return t||(t=vt[ot]=vt(e,n),ft[ot]=t),t}function dt(e){return!e||e.isEnabled()}function vt(e,i){p(t=(e=e||ft).cookieCfg=e.cookieCfg||{},"domain",e.cookieDomain,ge,v),p(t,"path",e.cookiePath||"/",null,v),v(t[tt])&&(n=void 0,d(e[rt])||(n=!e[rt]),d(e[it])||(n=!e[it]),t[tt]=n);var n,t,c=t,l=c.path||"/",f=c.domain,r=!1!==c[tt],g={isEnabled:function(){var e=r&&pt(i),n=ft[ot];return e&&n&&g!==n?dt(n):e},setEnabled:function(e){r=!1!==e},set:function(e,n,t,r,i){var o,a,u,s=!1;return dt(g)&&(o={},-1!=(u=(a=Pe(n||h)).indexOf(";"))&&(a=Pe(n.substring(0,u)),o=ht(n.substring(1+u))),p(o,"domain",r||f,je,d),v(t)||(u=hn(),!d(o[nt])||0<(n=_e()+1e3*t)&&((r=new Date).setTime(n),p(o,nt,yt(r,u?Zn:Yn)||yt(r,u?Zn:Yn)||h,je)),u||p(o,"max-age",h+t,null,d)),(n=cn())&&"https:"===n.protocol&&(p(o,"secure",null,null,d),(ut=null===ut?!xt((un()||{}).userAgent):ut)&&p(o,"SameSite","None",null,d)),p(o,"path",i||l,null,d),(c.setCookie||mt)(e,Ct(a,o)),s=!0),s},get:function(e){var n=h;return dt(g)?(c.getCookie||function(e){var n,t=h;return ct&&(n=ct[et]||h,st!==n&&(lt=ht(n),st=n),t=Pe(lt[e]||h)),t})(e):n},del:function(e,n){return!!dt(g)&&g.purge(e,n)},purge:function(e,n){var t,r=!1;return pt(i)&&((t={}).path=n||"/",t[nt]="Thu, 01 Jan 1970 00:00:01 GMT",n=t,hn()||(n["max-age"]="0"),(c.delCookie||mt)(e,Ct(h,n)),r=!0),r}};return g[ot]=g}function pt(e){if(null===at){at=!1;try{at=(ct||{})[et]!==undefined}catch(n){e&&e.throwInternal(l.LoggingSeverity.WARNING,ee.CannotAccessCookie,"Cannot access document.cookie - "+Re(n),{exception:yn(n)})}}return at}function ht(e){var t={};return e&&e.length&&g(Pe(e).split(";"),function(e){var n;(e=Pe(e||h))&&(-1==(n=e.indexOf("="))?t[e]=null:t[Pe(e.substring(0,n))]=Pe(e.substring(1+n)))}),t}function yt(e,n){return f(e[n])?e[n]():null}function Ct(e,n){var t=e||h;return ye(n,function(e,n){t+="; "+e+(v(n)?h:"="+n)}),t}function mt(e,n){ct&&(ct[et]=e+"="+n)}function xt(e){return!(!be(e)||!t(e,"CPU iPhone OS 12")&&!t(e,"iPad; CPU OS 12")&&!(t(e,"Macintosh; Intel Mac OS X 10_14")&&t(e,"Version/")&&t(e,"Safari"))&&(!t(e,"Macintosh; Intel Mac OS X 10_14")||!Ce(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!t(e,"Chrome/5")&&!t(e,"Chrome/6")&&(!t(e,"UnrealEngine")||t(e,"Chrome"))&&!t(e,"UCBrowser/12")&&!t(e,"UCBrowser/11"))}var St="_notificationManager";function bt(e,n){return new Fn(n)}var It,e=function fr(){var n,u,s,t,r,c=!1;Y(fr,this,function(a){a._extensions=[],u=new Qn,a.logger=new Pn({loggingLevelConsole:l.LoggingSeverity.CRITICAL}),n=[],a.isInitialized=function(){return c},a.initialize=function(e,n,r,t){a.isInitialized()&&Ue("Core should not be initialized more than once"),e&&!v(e.instrumentationKey)||Ue("Please provide instrumentation key"),s=t,a[St]=t,a.config=e||{},t&&!0!==a.config.disableDbgExt&&t.addNotificationListener(In(e)),a.config.enablePerfMgr&&p(a.config,"createPerfMgr",bt),e.extensions=v(e.extensions)?[]:e.extensions,Oe(e,Un).NotificationManager=t,r&&(a.logger=r);var t=[],i=(t.push.apply(t,N(N([],n),e.extensions)),t=Jn(t),[]),o={};g(t,function(e){(v(e)||v(e.initialize))&&Ue("Extensions must provide callback to initialize");var n=e.priority,t=e.identifier;e&&n&&(v(o[n])?o[n]=t:r.warnToConsole("Two extensions have same priority #"+n+" - "+o[n]+", "+t)),(!n||n<u.priority)&&i.push(e)}),t.push(u),i.push(u),t=Jn(t),a._extensions=t,Hn(new jn([u],e,a),t),Hn(new jn(i,e,a),t),a._extensions=i,0===a.getTransmissionControls().length&&Ue("No channels available"),c=!0,a.releaseQueue()},a.getTransmissionControls=function(){return u.getChannelControls()},a.track=function(e){p(e,"iKey",a.config.instrumentationKey,null,De),p(e,"time",we(new Date),null,De),p(e,"ver","4.0",null,v),a.isInitialized()?a.getProcessTelContext().processNext(e):n.push(e)},a.getProcessTelContext=function(){var e=a._extensions,n=e;return e&&0!==e.length||(n=[u]),new jn(n,a.config,a)},a.getNotifyMgr=function(){return s||(s=T({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,n){},eventsSendRequest:function(e,n){}}),a[St]=s),s},a.getCookieMgr=function(){return r=r||vt(a.config,a.logger)},a.setCookieMgr=function(e){r=e},a.getPerfMgr=function(){return t||a.config&&a.config.enablePerfMgr&&f(a.config.createPerfMgr)&&(t=a.config.createPerfMgr(a,a.getNotifyMgr())),t||Mn},a.setPerfMgr=function(e){t=e},a.eventCnt=function(){return n.length},a.releaseQueue=function(){0<n.length&&(g(n,function(e){a.getProcessTelContext().processNext(e)}),n=[])}})},Tt=function gr(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;Y(gr,this,function(i){i.addNotificationListener=function(e){i.listeners.push(e)},i.removeNotificationListener=function(e){for(var n=Ee(i.listeners,e);-1<n;)i.listeners.splice(n,1),n=Ee(i.listeners,e)},i.eventsSent=function(n){g(i.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(n)},0)})},i.eventsDiscarded=function(n,t){g(i.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(n,t)},0)})},i.eventsSendRequest=function(t,r){g(i.listeners,function(e){if(e&&e.eventsSendRequest)if(r)setTimeout(function(){return e.eventsSendRequest(t,r)},0);else try{e.eventsSendRequest(t,r)}catch(n){}})},i.perfEvent=function(t){t&&(!n&&t.isChildEvt()||g(i.listeners,function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout(function(){return e.perfEvent(t)},0);else try{e.perfEvent(t)}catch(n){}}))}})};function wt(){var e=It.call(this)||this,r=0;return Y(wt,e,function(t,i){function n(e){var n=t.getNotifyMgr();n&&n.eventsDiscarded([e],o.InvalidEvent)}t.initialize=function(e,n,t,r){i.initialize(e,n,t||new Pn(e),r||new Tt(e))},t.track=function(e){Rn(t.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){if(null===e&&(n(e),Ue("Invalid telemetry item")),v(e.name))throw n(e),Error("telemetry name required");i.track(e)},function(){return{item:e}},!e.sync)},t.addNotificationListener=function(e){var n=t.getNotifyMgr();n&&n.addNotificationListener(e)},t.removeNotificationListener=function(e){var n=t.getNotifyMgr();n&&n.removeNotificationListener(e)},t.pollInternalLogs=function(n){var e=t.config.diagnosticLogInterval;return e&&0<e||(e=1e4),r&&t.stopPollingInternalLogs(),r=setInterval(function(){var e=t.logger?t.logger.queue:[];g(e,function(e){e={name:n||"InternalMessageId: "+e.messageId,iKey:t.config.instrumentationKey,time:we(new Date),baseType:En.dataType,baseData:{message:e.message}};t.track(e)}),e.length=0},e)},t.stopPollingInternalLogs=function(){r&&(clearInterval(r),r=0)}}),e}E(wt,It=e);var Et=4294967296,Nt=4294967295,Lt=!1,Pt=123456789,Mt=987654321;function kt(e){e<0&&(e>>>=0),Pt=123456789+e&Nt,Mt=987654321-e&Nt,Lt=!0}function At(){try{var e=2147483647&_e();kt((Math.random()*Et^e)+e)}catch(n){}}function Ft(e){return 0<e?Math.floor(_t()/Nt*(e+1))>>>0:0}function _t(e){var n=vn()||pn(),n=n&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&Nt:hn()?(Lt||At(),Ot()&Nt):Math.floor(Et*Math.random()|0);return e||(n>>>=0),n}function Rt(e){e?kt(e):At()}function Ot(e){var n=((Mt=36969*(65535&Mt)+(Mt>>16)&Nt)<<16)+(65535&(Pt=18e3*(65535&Pt)+(Pt>>16)&Nt))>>>0&Nt|0;return e||(n>>>=0),n}var Dt,jt="visibilitychange",Ut="pagehide",zt="pageshow",Bt=null,Kt=n;function qt(e,n){var t=!1,r=tn(),r=(r&&(t=pe(r,e,n),t=pe(r.body,e,n)||t),on());return r&&pe(r,e,n)||t}function Vt(e,n,t){var r,i=!1;return n&&e&&xe(e)&&(r=[],g(e,function(e){be(e)&&(t&&-1!==Ee(t,e)?r.push(e):i=qt(e,n)||i)}),!i&&0<r.length&&(i=Vt(r,n))),i}function Gt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Qt,function(e){var n=0|Ft(15);return("x"===e?n:3&n|8).toString(16)})}function Wt(){var e=fn();return e&&e.now?e.now():_e()}function Ht(e){void 0===e&&(e=22);for(var n=_t()>>>0,t=0,r="";r.length<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&n]||"",n>>>=6,5==++t&&(n=(_t()<<2&4294967295|3&n)>>>0,t=0);return r}function Jt(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",r=0;r<4;r++)t+=n[15&(e=_t())]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var i=n[8+(3&_t())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var Xt={_canUseCookies:undefined,isTypeof:fe,isUndefined:d,isNullOrUndefined:v,hasOwnProperty:de,isFunction:f,isObject:ve,isDate:me,isArray:xe,isError:Se,isString:be,isNumber:Ie,isBoolean:Te,toISOString:we,arrForEach:g,arrIndexOf:Ee,arrMap:Ne,arrReduce:Le,strTrim:Pe,objCreate:T,objKeys:Ae,objDefineAccessors:Fe,addEventHandler:qt,dateNow:_e,isIE:hn,disableCookies:Yt,newGuid:Gt,perfNow:Wt,newId:Ht,randomValue:Ft,random32:_t,mwcRandomSeed:Rt,mwcRandom32:Ot,generateW3CId:Jt},Qt=/[xy]/g,$t={Attach:pe,AttachEvent:pe,Detach:he,DetachEvent:he};function Zt(e,n){e=gt(e,n),n=Xt._canUseCookies;return null===Bt&&(Bt=[],Dt=n,Fe(Xt,"_canUseCookies",function(){return Dt},function(n){Dt=n,g(Bt,function(e){e.setEnabled(n)})})),-1===Ee(Bt,e)&&Bt.push(e),Te(n)&&e.setEnabled(n),Te(Dt)&&e.setEnabled(Dt),e}function Yt(){Zt().setEnabled(!1)}var er="_aiHooks",nr=["req","rsp","hkErr","fnErr"];function tr(e,n){if(e)for(var t=0;t<e.length&&!n(e[t],t);t++);}function rr(e,a,u,s,c){0<=c&&c<=2&&tr(e,function(e,n){var e=e.cbks,t=e[nr[c]];if(t){a.ctx=function(){return s[n]=s[n]||{}};try{t.apply(a.inst,u)}catch(i){t=a.err;try{var r=e[nr[2]];r&&(a.err=i,r.apply(a.inst,u))}catch(o){}finally{a.err=t}}}})}function ir(s){return function(){var t=arguments,e=s.h,r={name:s.n,inst:this,ctx:null,set:function(e,n){(t=o([],t))[e]=n,i=o([r],t)}},n=[],i=o([r],t);function o(n,e){return tr(e,function(e){n.push(e)}),n}rr(e,r,i,n,0);var a=s.f;try{r.rslt=a.apply(this,t)}catch(u){throw r.err=u,rr(e,r,i,n,3),u}return rr(e,r,i,n,1),r.rslt}}var or=Object.getPrototypeOf;function ar(e,n,t,r){if(void 0===r&&(r=!0),e&&n&&t){e=function o(e,n,t){var r=null;return e&&(de(e,n)?r=e:t&&(r=o(function(e){if(e){if(or)return or(e);e=e.__proto__||e[a]||e.constructor;if(e)return e}return null}(e),n,!1))),r}(e,n,r);if(e){var i,r=e[n];if(typeof r===u)return(i=r[er])||((r=ir(i={i:0,n:n,f:r,h:[]}))[er]=i,e[n]=r),n={id:i.i,cbks:t,rm:function(){var t=this.id;tr(i.h,function(e,n){return e.id===t&&(i.h.splice(n,1),1)})}},i.i++,i.h.push(n),n}}return null}function ur(n,e,t,r){void 0===r&&(r=!0);var i=null;return tr(e,function(e){e=ar(n,e,t,r);e&&(i=i||[]).push(e)}),i}l.AppInsightsCore=wt,l.BaseCore=e,l.BaseTelemetryPlugin=Bn,l.CoreUtils=Xt,l.DiagnosticLogger=Pn,l.EventHelper=$t,l.EventsDiscardedReason=o,l.InstrumentFunc=ar,l.InstrumentFuncs=ur,l.InstrumentProto=function(e,n,t){return e?ar(e[a],n,t,!1):null},l.InstrumentProtos=function(e,n,t){return e?ur(e[a],n,t,!1):null},l.MinChannelPriorty=100,l.NotificationManager=Tt,l.PerfEvent=kn,l.PerfManager=Fn,l.ProcessTelemetryContext=jn,l.Undefined=Kt,l._InternalLogMessage=En,l._InternalMessageId=ee,l._legacyCookieMgr=Zt,l.addEventHandler=qt,l.addEventListeners=Vt,l.addPageHideEventListener=function dr(t,e){var n=!1;return e&&-1!==Ee(e,Ut)||(n=qt(Ut,t)),!(n=(!e||-1===Ee(e,jt))&&qt(jt,function(e){var n=on();t&&n&&"hidden"===n.visibilityState&&t(e)})||n)&&e?dr(t):n},l.addPageShowEventListener=function vr(t,e){var n=!1;return e&&-1!==Ee(e,zt)||(n=qt(zt,t)),!(n=(!e||-1===Ee(e,jt))&&qt(jt,function(e){var n=on();t&&n&&"visible"===n.visibilityState&&t(e)})||n)&&e?vr(t):n},l.addPageUnloadEventListener=function(e,n){return Vt(["beforeunload","unload","pagehide"],e,n)},l.areCookiesSupported=pt,l.arrForEach=g,l.arrIndexOf=Ee,l.arrMap=Ne,l.arrReduce=Le,l.attachEvent=pe,l.canUseCookies=function(e){return Zt(null,e).isEnabled()},l.createClassFromInterface=function(e){return function(){var t=this;e&&ye(e,function(e,n){t[e]=n})}},l.createCookieMgr=vt,l.dateNow=_e,l.deleteCookie=function(e,n){return Zt(null,e).del(n)},l.detachEvent=he,l.disableCookies=Yt,l.doPerf=Rn,l.dumpObj=yn,l.generateW3CId=Jt,l.getConsole=ln,l.getCookie=function(e,n){return Zt(null,e).get(n)},l.getCrypto=vn,l.getDebugExt=bn,l.getDebugListener=In,l.getDocument=on,l.getExceptionName=Re,l.getGblPerfMgr=function(){return Mn},l.getGlobal=b,l.getGlobalInst=i,l.getHistory=function(){return sn()?history:i("history")},l.getIEVersion=function(e){var n=((e=(e=void 0===e?null:e)?e:(n=un()||{})?(n.userAgent||"").toLowerCase():"")||"").toLowerCase();if(t(n,He))return e=on()||{},Math.max(parseInt(n.split(He)[1]),e.documentMode||0);if(t(n,Je)){e=parseInt(n.split(Je)[1]);if(e)return e+4}return null},l.getJSON=dn,l.getLocation=cn,l.getMsCrypto=pn,l.getNavigator=un,l.getPerformance=fn,l.getSetValue=Oe,l.getWindow=tn,l.hasDocument=rn,l.hasHistory=sn,l.hasJSON=gn,l.hasNavigator=an,l.hasOwnProperty=de,l.hasWindow=nn,l.initializePlugins=Hn,l.isArray=xe,l.isBeaconsSupported=function(){return Ye=null===Ye?an()&&!!un().sendBeacon:Ye},l.isBoolean=Te,l.isDate=me,l.isError=Se,l.isFetchSupported=function(e){var n=!1;try{var n=!!i("fetch"),t=i("Request");n&&e&&t&&(n=en(t,"keepalive"))}catch(r){}return n},l.isFunction=f,l.isIE=hn,l.isNotNullOrUndefined=ge,l.isNotTruthy=De,l.isNotUndefined=function(e){return!d(e)},l.isNullOrUndefined=v,l.isNumber=Ie,l.isObject=ve,l.isReactNative=function(){var e=un();return!(!e||!e.product)&&"ReactNative"===e.product},l.isSafari=function(e){var n;return!!~((e=e&&be(e)?e:(n=un()||{})?(n.userAgent||"").toLowerCase():"")||"").toLowerCase().indexOf("safari")},l.isString=be,l.isSymbol=function(e){return"symbol"==typeof e},l.isTruthy=je,l.isTypeof=fe,l.isUndefined=d,l.isXhrSupported=Cn,l.mwcRandom32=Ot,l.mwcRandomSeed=Rt,l.newGuid=Gt,l.newId=Ht,l.normalizeJsName=function(e){var n=e,t=/([^\w\d_$])/g;return t.test(e)?e.replace(t,"_"):n},l.objCreate=T,l.objDefineAccessors=Fe,l.objForEachKey=ye,l.objFreeze=function(e){return se?se(e):e},l.objKeys=Ae,l.objSeal=function(e){return ce?ce(e):e},l.optimizeObject=function(e){return e&&c(C?C({},e):e)},l.perfNow=Wt,l.proxyAssign=function(r,i,o){if(r&&i&&r!==i&&ve(r)&&ve(i))for(var e in i)!function(n){var e,t;be(n)&&(f(e=i[n])?o&&!o(n,!0,i,r)||(r[n]=(t=n,function(){return i[t].apply(i,arguments)})):o&&!o(n,!1,i,r)||(de(r,n)&&delete r[n],Fe(r,n,function(){return i[n]},function(e){i[n]=e})||(r[n]=e)))}(e);return r},l.random32=_t,l.randomValue=Ft,l.safeGetCookieMgr=function(e,n){var t;return e?t=e.getCookieMgr():n&&(t=n.cookieCfg[ot]||vt(n)),t||gt(n,(e||{}).logger)},l.safeGetLogger=Ln,l.setCookie=function(e,n,t,r){Zt(null,e).set(n,t,null,r)},l.setEnableEnvMocks=function(e){$e=e},l.setGblPerfMgr=function(e){Mn=e},l.setValue=p,l.sortPlugins=Jn,l.strContains=t,l.strEndsWith=Ce,l.strExtensionConfig=Un,l.strFunction=u,l.strIKey="iKey",l.strObject=s,l.strPrototype=a,l.strStartsWith=function(e,n){var t=!1;if(e&&n){var r=n.length;if(e===n)return!0;if(e.length>=r){for(var i=0;i<r;i++)if(e[i]!==n[i])return!1;t=!0}}return t},l.strTrim=Pe,l.strUndefined=n,l.throwError=Ue,l.toISOString=we,l.uaDisallowsSameSiteNone=xt,l.useXDomainRequest=function(){return Ze=null===Ze&&(Ze="undefined"!=typeof XDomainRequest)&&Cn()?Ze&&!en(i("XMLHttpRequest"),"withCredentials"):Ze};e=l,Bn="__esModule",$t={value:!0},Kt=Object.defineProperty;if(Kt)try{return void Kt(e,Bn,$t)}catch(pr){}typeof $t.value!==undefined&&(e[Bn]=$t.value)});
//# sourceMappingURL=applicationinsights-core-js.min.js.map
