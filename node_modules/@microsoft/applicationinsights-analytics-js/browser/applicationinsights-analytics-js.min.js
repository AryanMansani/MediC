/*!
 * Application Insights JavaScript SDK - Web Analytics, 2.7.3
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var e=this,t=function(t){"use strict";var r="function",A="object",i="undefined",a="prototype",o="hasOwnProperty",n=Object,s=n[a],c=n.assign,l=n.create,u=n.defineProperty,g=s[o],f=null;function d(e){return void 0===e&&(e=!0),f&&e||(typeof globalThis!==i&&globalThis&&(f=globalThis),typeof self!==i&&self&&(f=self),typeof window!==i&&window&&(f=window),typeof global!==i&&global&&(f=global)),f}function m(e){throw new TypeError(e)}(d()||{}).Symbol,(d()||{}).Reflect;var M=c||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])s[o].call(t,i)&&(e[i]=t[i]);return e},h=function(e,t){return(h=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[o](n)&&(e[n]=t[n])})(e,t)};function e(e,t){function n(){this.constructor=e}typeof t!==r&&null!==t&&m("Class extends value "+t+" is not a constructor or null"),h(e,t),e[a]=null===t?function(e){if(l)return l(e);if(null==e)return{};var t=typeof e;function n(){}return t!==A&&t!==r&&m("Object prototype may only be an Object:"+e),n[a]=e,new n}(t):(n[a]=t[a],new n)}var v="constructor",y="prototype",T="function",w="_dynInstFuncs",I="_isDynProxy",C="_dynClass",R="_dynInstChk",V=R,D="_dfOpts",F="_unknown_",_="__proto__",O="useBaseInst",B="setInstFuncs",U=Object,j=U.getPrototypeOf,z=0;function W(e,t){return e&&U[y].hasOwnProperty.call(e,t)}function G(e){return e&&(e===U[y]||e===Array[y])}function K(e){return G(e)||e===Function[y]}function q(e){if(e){if(j)return j(e);e=e[_]||e[y]||(e[v]?e[v][y]:null);if(e)return e}return null}function J(e,t){var n=[],r=U.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)"string"==typeof i&&W(e,i)&&n.push(i);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function H(e,t,n){return t!==v&&typeof e[t]===T&&(n||W(e,t))}function X(e){throw new TypeError("DynamicProto: "+e)}function $(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function Z(e,t){return W(e,y)?e.name||t||F:((e||{})[v]||{}).name||t||F}function Q(e,r,t,n){W(e,y)||X("theClass is an invalid class definition.");var u,i,a,o,g,f,s=e[y],c=(function(e){if(j)for(var t=[],n=q(r);n&&!K(n)&&!$(t,n);){if(n===e)return 1;t.push(n),n=q(n)}}(s)||X("["+Z(e)+"] is not in class hierarchy of ["+Z(r)+"]"),null),e=(W(s,C)?c=s[C]:(c="_dynCls$"+Z(e,"_")+"$"+z,z++,s[C]=c),Q[D]),l=!!e[O],p=(l&&n&&n[O]!==undefined&&(l=!!n[O]),i={},J(u=r,function(e){!i[e]&&H(u,e,!1)&&(i[e]=u[e])}),i),l=(t(r,function(e,t,n,a){function r(e,t,n){var r,i=t[n];return i[I]&&a&&!1!==(r=e[w]||{})[V]&&(i=(r[t[C]]||{})[n]||i),function(){return i.apply(e,arguments)}}for(var i={},o=(J(n,function(e){i[e]=r(t,n,e)}),q(e)),s=[];o&&!K(o)&&!$(s,o);)J(o,function(e){!i[e]&&H(o,e,!j)&&(i[e]=r(t,o,e))}),s.push(o),o=q(o);return i}(s,r,p,l)),!!j&&!!e[B]);a=s,t=c,o=r,g=p,e=!1!==(l=l&&n?!!n[B]:l),G(a)||(s=o[w]=o[w]||{},f=s[t]=s[t]||{},!1!==s[V]&&(s[V]=!!e),J(o,function(e){var n,r,i;H(o,e,!1)&&o[e]!==g[e]&&(f[e]=o[e],delete o[e],W(a,e)&&(!a[e]||a[e][I])||(a[e]=(n=a,r=e,(i=function(){var e,t;return(function(e,t,n,u){var r=null;if(e&&W(n,C)){var i=e[w]||{};if((r=(i[n[C]]||{})[t])||X("Missing ["+t+"] "+T),!r[R]&&!1!==i[V]){for(var a=!W(e,t),o=q(e),s=[];a&&o&&!K(o)&&!$(s,o);){var c=o[t];if(c){a=c===u;break}s.push(o),o=q(o)}try{a&&(e[t]=r),r[R]=1}catch(l){i[V]=!1}}}return r}(this,r,n,i)||(typeof(t=(t=n[e=r])===i?q(n)[e]:t)!==T&&X("["+e+"] is not a "+T),t)).apply(this,arguments)})[I]=1,i)))}))}Q[D]={setInstFuncs:!0,useBaseInst:!0},(c=x=x||{})[c.CRITICAL=1]="CRITICAL",c[c.WARNING=2]="WARNING";var x,S={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},Y="toISOString",ee=u;function te(e){return s.toString.call(e)}function ne(e){return e===undefined||typeof e===i}function k(e){return null===e||ne(e)}function re(e){return!k(e)}function ie(e){return typeof e===A}function P(e){return typeof e===r}function ae(e,t){if(e)for(var n in e)g.call(e,n)&&t.call(e,n,e[n])}function p(e,t){return!(!e||!t||!~e.indexOf(t))}function oe(e){return"[object Array]"===te(e)}function se(e){return"[object Error]"===te(e)}function b(e){return"string"==typeof e}function ce(e,t,n){var r=e.length;try{for(var i=0;i<r&&!(i in e&&-1===t.call(n||e,e[i],i,e));i++);}catch(a){}}function le(e,t,n){var r=e.length,i=n||e,a=Array(r);try{for(var o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e))}catch(s){}return a}function ue(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}function ge(){var e=Date;return e.now?e.now():(new e).getTime()}function N(e){return se(e)?e.name:""}function fe(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(e[t]=a=n)),a}function pe(e){return!!e}var de="window",me="document",he="location",ve="JSON",ye="msie",Te="trident/",we=null,Ie=null,Ce=!1;function E(e){var t=d();return t&&t[e]?t[e]:e===de&&xe()?window:null}function xe(){return typeof window===A&&window}function Se(){return xe()?window:E(de)}function ke(){return typeof document===A&&document?document:E(me)}function Pe(){return typeof navigator===A&&navigator?navigator:E("navigator")}function be(e){if(e&&Ce){e=E("__mockLocation");if(e)return e}return typeof location===A&&location?location:E(he)}function Ne(){return E("performance")}function Ee(){return typeof JSON===A&&JSON||null!==E(ve)}function Le(){return Ee()?JSON||E(ve):null}function Ae(){var e=Pe();return!e||e.userAgent===Ie&&null!==we||(e=((Ie=e.userAgent)||"").toLowerCase(),we=p(e,ye)||p(e,Te)),we}function L(e){var t=Object[a].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Ee()&&(n=Le().stringify(e)),t+n}var Me=null;function Re(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Ve(e,t){var n,r=typeof console!==i?console:E("console");r&&(n="log",P(r[n=r[e]?e:n])&&r[n](t))}Fe.dataType="MessageData";var De=Fe;function Fe(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;n="",Ee()&&(n=Le().stringify(r)),e=(t?" message:"+Re(t):"")+(r?" props:"+Re(n):"");this.message+=e}var _e=function nr(i){this.identifier="DiagnosticLogger",this.queue=[];var s=0,c={};Q(nr,this,function(a){function e(e,t){e=i[e];return k(e)?t:e}function o(e,t){var n,r=(n=(n=Me)||!0===i.disableDbgExt?n:Me||(r=E("Microsoft"),Me=r?r.ApplicationInsights:Me))?n.ChromeDbgExt:null;r&&r.diagLog&&r.diagLog(e,t)}k(i)&&(i={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,r,i){t=new De(t,n,i=void 0!==i&&i,r);if(a.enableDebugExceptions())throw t;n=e===x.CRITICAL?"errorToConsole":"warnToConsole";ne(t.message)?o("throw"+(e===x.CRITICAL?"Critical":"Warning"),t):(r=a.consoleLoggingLevel(),i?(i=+t.messageId,!c[i]&&e<=r&&(a[n](t.message),c[i]=!0)):e<=r&&a[n](t.message),a.logInternalMessage(e,t))},a.warnToConsole=function(e){Ve("warn",e),o("warning",e)},a.errorToConsole=function(e){Ve("error",e),o("error",e)},a.resetInternalMessageCount=function(){s=0,c={}},a.logInternalMessage=function(e,t){var n,r;s>=a.maxInternalMessageLimit()||(r=!0,n="AITR_"+t.messageId,c[n]?r=!1:c[n]=!0,r&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),s++,o(e===x.CRITICAL?"error":"warn",t)),s===a.maxInternalMessageLimit()&&(r=new De(S.MessageLimitPerPVExceeded,n="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(r),e===x.CRITICAL?a.errorToConsole(n):a.warnToConsole(n))))}})},Oe=(Be.ParentContextKey="parent",Be.ChildrenContextKey="childEvts",Be);function Be(e,i,t){var r,a=this,o=!1;a.start=ge(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},P(i)&&(o=function(e){if(ee)try{var t={enumerable:!0,configurable:!0,get:function(){return!r&&P(i)&&(r=i(),i=null),r}};return ee(e,"payload",t),!0}catch(n){}return!1}(a)),a.getCtx=function(e){return e?(e===Be.ParentContextKey||e===Be.ChildrenContextKey?a:a.ctx||{})[e]:null},a.setCtx=function(e,t){e&&(e===Be.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===Be.ChildrenContextKey?a[e]=t:(a.ctx=a.ctx||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(Be.ChildrenContextKey);if(oe(t))for(var n=0;n<t.length;n++){var r=t[n];r&&(e+=r.time)}a.time=ge()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&P(i)&&(a.payload=i())}}var Ue="CoreUtils.doPerf";function je(e,t,n,r,i){if(e)if(e=P(e.getPerfMgr)?e.getPerfMgr():e){var a,o=void 0,s=e.getCtx(Ue);try{if(o=e.create(t(),r,i))return s&&o.setCtx&&(o.setCtx(Oe.ParentContextKey,s),s.getCtx&&s.setCtx&&((a=s.getCtx(Oe.ChildrenContextKey))||(a=[],s.setCtx(Oe.ChildrenContextKey,a)),a.push(o))),e.setCtx(Ue,o),n(o)}catch(c){o&&o.setCtx&&o.setCtx("exception",c)}finally{o&&e.fire(o),e.setCtx(Ue,s)}}return n()}var ze=function(i,t){var a=this,o=null,s=P(i.processTelemetry),c=P(i.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return i},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,r){r=r||t;var e=i?i.identifier:"TelemetryPluginChain";je(r?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&s){a._hasRun=!0;try{r.setNext(o),c&&i.setNextPlugin(o),o&&(o._hasRun=!1),i.processTelemetry(n,r)}catch(t){var e=o&&o._hasRun;o&&e||r.diagLog().throwInternal(x.CRITICAL,S.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+L(t)),o&&!e&&o.processTelemetry(n,r)}}else o&&(a._hasRun=!0,o.processTelemetry(n,r))},function(){return{item:n}},!n.sync)}};function We(e,t){var n=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var a=e[i];a&&P(a.processTelemetry)&&(a=new ze(a,t),n.push(a),r&&r.setNext(a),r=a)}return 0<n.length?n[0]:null}var Ge=function rr(e,i,n,t){var r,a,o,s,c=this,l=null;null!==t&&(e&&P(e.getPlugin)?l=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();!i&&a!==n||(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),We(r,t)}(e,c,t||e.getPlugin()):t?(r=c,o=e,s=!1,(a=t)&&e&&(o=[],ce(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),l=We(o,r)):ne(t)&&(l=We(e,c))),c.core=function(){return n},c.diagLog=function(){return(n||{}).logger||new _e(i)},c.getCfg=function(){return i},c.getExtCfg=function(e,t){var n,r;return void 0===t&&(t={}),!i||(r=i.extensionConfig)&&e&&(n=r[e]),n||t},c.getConfig=function(e,t,n){void 0===n&&(n=!1);var r,e=c.getExtCfg(e,null);return e&&!k(e[t])?r=e[t]:i&&!k(i[t])&&(r=i[t]),k(r)?n:r},c.hasNext=function(){return null!=l},c.getNext=function(){return l},c.setNext=function(e){l=e},c.processNext=function(e){var t=l;t&&(l=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return new rr((e=void 0===e?null:e)||l,i,n,t)}},Ke="getPlugin",c=(qe.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},qe);function qe(){var a=this,o=!1,s=null,c=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){c=e},a.processNext=function(e,t){t?t.processNext(e):c&&P(c.processTelemetry)&&c.processTelemetry(e,null)},a._getTelCtx=function(e){var t,e=e=void 0===e?null:e;return e||(t=s||new Ge(null,{},a.core),e=c&&c[Ke]?t.createNew(null,c[Ke]):t.createNew(null,c)),e},a._baseTelInit=function(e,t,n,r){e&&fe(e,"extensionConfig",[],null,k),!r&&t&&(r=t.getProcessTelContext().getNext());var i=c;c&&c[Ke]&&(i=c[Ke]()),a.core=t,s=new Ge(r,e,t,i),o=!0}}var Je="toGMTString",He="toUTCString",Xe="cookie",$e="expires",Ze="enabled",Qe="isCookieUseDisabled",Ye="disableCookiesUsage",et="_ckMgr",tt="",nt=null,rt=null,it=null,at=ke(),ot={},st={};function ct(e){return!e||e.isEnabled()}function lt(e,i){fe(n=(e=e||st).cookieCfg=e.cookieCfg||{},"domain",e.cookieDomain,re,k),fe(n,"path",e.cookiePath||"/",null,k),k(n[Ze])&&(t=void 0,ne(e[Qe])||(t=!e[Qe]),ne(e[Ye])||(t=!e[Ye]),n[Ze]=t);var t,n,l=n,u=l.path||"/",g=l.domain,r=!1!==l[Ze],f={isEnabled:function(){var e=r&&ut(i),t=st[et];return e&&t&&f!==t?ct(t):e},setEnabled:function(e){r=!1!==e},set:function(e,t,n,r,i){var a,o,s,c=!1;return ct(f)&&(a={},-1!=(s=(o=ue(t||tt)).indexOf(";"))&&(o=ue(t.substring(0,s)),a=gt(t.substring(1+s))),fe(a,"domain",r||g,pe,ne),k(n)||(s=Ae(),!ne(a[$e])||0<(t=ge()+1e3*n)&&((r=new Date).setTime(t),fe(a,$e,ft(r,s?Je:He)||ft(r,s?Je:He)||tt,pe)),s||fe(a,"max-age",tt+n,null,ne)),(t=be())&&"https:"===t.protocol&&(fe(a,"secure",null,null,ne),(rt=null===rt?!(b(r=(Pe()||{}).userAgent)&&(p(r,"CPU iPhone OS 12")||p(r,"iPad; CPU OS 12")||p(r,"Macintosh; Intel Mac OS X 10_14")&&p(r,"Version/")&&p(r,"Safari")||p(r,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=e.length;if(e===t)return 1;if(40<=n){for(var r=n-1,i=39;0<=i;i--){if(e[r]!=t[i])return;r--}return 1}}}(r,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||p(r,"Chrome/5")||p(r,"Chrome/6")||p(r,"UnrealEngine")&&!p(r,"Chrome")||p(r,"UCBrowser/12")||p(r,"UCBrowser/11"))):rt)&&fe(a,"SameSite","None",null,ne)),fe(a,"path",i||u,null,ne),(l.setCookie||dt)(e,pt(o,a)),c=!0),c},get:function(e){var t=tt;return ct(f)?(l.getCookie||function(e){var t,n=tt;return at&&(t=at[Xe]||tt,it!==t&&(ot=gt(t),it=t),n=ue(ot[e]||tt)),n})(e):t},del:function(e,t){return!!ct(f)&&f.purge(e,t)},purge:function(e,t){var n,r=!1;return ut(i)&&((n={}).path=t||"/",n[$e]="Thu, 01 Jan 1970 00:00:01 GMT",t=n,Ae()||(t["max-age"]="0"),(l.delCookie||dt)(e,pt(tt,t)),r=!0),r}};return f[et]=f}function ut(e){if(null===nt){nt=!1;try{nt=(at||{})[Xe]!==undefined}catch(t){e&&e.throwInternal(x.WARNING,S.CannotAccessCookie,"Cannot access document.cookie - "+N(t),{exception:L(t)})}}return nt}function gt(e){var n={};return e&&e.length&&ce(ue(e).split(";"),function(e){var t;(e=ue(e||tt))&&(-1==(t=e.indexOf("="))?n[e]=null:n[ue(e.substring(0,t))]=ue(e.substring(1+t)))}),n}function ft(e,t){return P(e[t])?e[t]():null}function pt(e,t){var n=e||tt;return ae(t,function(e,t){n+="; "+e+(k(t)?tt:"="+t)}),n}function dt(e,t){at&&(at[Xe]=e+"="+t)}var mt=4294967296,ht=4294967295,vt=!1,yt=123456789,Tt=987654321;function wt(e){var t=E("crypto")||E("msCrypto"),t=t&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&ht:Ae()?(vt||function(){try{var e=2147483647&ge();(t=(Math.random()*mt^e)+e)<0&&(t>>>=0),yt=123456789+t&ht,Tt=987654321-t&ht,vt=!0}catch(n){}var t}(),t=((Tt=36969*(65535&Tt)+(Tt>>16)&ht)<<16)+(65535&(yt=18e3*(65535&yt)+(yt>>16)&ht))>>>0&ht|0,(t>>>=0)&ht):Math.floor(mt*Math.random()|0);return e||(t>>>=0),t}function It(e,t,n){var r,i,a=t.length,o=(e=e,(t=t)&&150<(t=ue(t.toString())).length&&(i=t.substring(0,150),e&&e.throwInternal(x.WARNING,S.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),i||t);if(o.length!==a){for(var s=0,c=o;n[c]!==undefined;)s++,c=o.substring(0,147)+(r=void 0,(r="00"+s).substr(r.length-3));o=c}return o}function Ct(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ue(t)).toString().length>n&&(r=t.toString().substring(0,n),e&&e.throwInternal(x.WARNING,S.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function xt(e,t){return bt(e,t,2048,S.UrlTooLong)}function St(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),e&&e.throwInternal(x.WARNING,S.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function kt(r,e){var i;return e&&(i={},ae(e,function(e,t){if(ie(t)&&Ee())try{t=Le().stringify(t)}catch(n){r&&r.throwInternal(x.WARNING,S.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=Ct(r,t,8192),e=It(r,e,i),i[e]=t}),e=i),e}function Pt(n,e){var r;return e&&(r={},ae(e,function(e,t){e=It(n,e,r),r[e]=t}),e=r),e}function bt(e,t,n,r){var i;return t&&(t=ue(t)).length>n&&(i=t.substring(0,n),e&&e.throwInternal(x.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function Nt(e){var t,n=null;return P(Event)?n=new Event(e):(t=ke())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function Et(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function Lt(e){var t=""+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5),e=1===(e=""+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n;return(0<i?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t+"."+e}var At,Mt="not_specified",Rt="iKey",Vt=((u=At=At||{})[u.LocalStorage=0]="LocalStorage",u[u.SessionStorage=1]="SessionStorage",undefined);function Dt(e){try{if(k(d()))return null;var t=new Date,n=E(e===At.LocalStorage?"localStorage":"sessionStorage"),r=(n.setItem(t.toString(),t.toString()),n.getItem(t.toString())!==t.toString());if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}function Ft(){return _t()?Dt(At.SessionStorage):null}function _t(){return Vt=Vt===undefined?!!Dt(At.SessionStorage):Vt}function Ot(e,t){var n=Ft();if(null!==n)try{return n.getItem(t)}catch(r){Vt=!1,e.throwInternal(x.WARNING,S.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+N(r),{exception:L(r)})}return null}function Bt(e,t,n){var r=Ft();if(null!==r)try{return r.setItem(t,n),1}catch(i){Vt=!1,e.throwInternal(x.WARNING,S.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+N(i),{exception:L(i)})}}function Ut(e,t){var n=Ft();if(null!==n)try{return n.removeItem(t),1}catch(r){Vt=!1,e.throwInternal(x.WARNING,S.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+N(r),{exception:L(r)})}}var jt=ke()||{},zt=0,Wt=[null,null,null,null,null];function Gt(e,t){return 0===e||0===t||k(e)||k(t)?null:t-e}var Kt,u=function(){this.ver=2,this.properties={},this.measurements={}},qt=(e(Jt,Kt=u),Jt.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Jt.dataType="EventData",Jt);function Jt(e,t,n,r){var i=Kt.call(this)||this;return i.aiDataContract={ver:1,name:1,properties:0,measurements:0},i.name=Ct(e,t)||Mt,i.properties=kt(e,n),i.measurements=Pt(e,r),i}var Ht="error",Xt="stack",$t="stackDetails",Zt="errorSrc",Qt="message",Yt="description";function en(e,t){var n=e;return n&&!b(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=P(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function tn(e,t){var n=e;return e&&((n=n&&!b(n)&&(e[Qt]||e[Yt])||n)&&!b(n)&&(n=en(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&!~(n||"").indexOf(t)?t+": "+n:n)||""}function nn(e){return e&&e.src&&b(e.src)&&e.obj&&oe(e.obj)}function rn(e){var e=e||"",t=(e=b(e)?e:b(e[Xt])?e[Xt]:""+e).split("\n");return{src:e,obj:t}}function an(e){var t,n=null;if(e)try{e[Xt]?n=rn(e[Xt]):e[Ht]&&e[Ht][Xt]?n=rn(e[Ht][Xt]):e.exception&&e.exception[Xt]?n=rn(e.exception[Xt]):nn(e)?n=e:nn(e[$t])?n=e[$t]:window&&window.opera&&e[Qt]?n=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message):b(e)?n=rn(e):(t=e[Qt]||e[Yt]||"",b(e[Zt])&&(t&&(t+="\n"),t+=" from "+e[Zt]),t&&(n=rn(t)))}catch(r){n=rn(r)}return n||{src:"",obj:null}}function on(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(r){}return t}function sn(e){if(e)try{var t,n;if(!b(e))return t=on(e),(n=en(e,!1))&&"{}"!==n||(e[Ht]&&(t=on(e=e[Ht])),n=en(e,!0)),n.indexOf(t)&&"String"!==t?t+":"+n:n}catch(r){}return""+(e||"")}e(un,cn=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),un.CreateAutoException=function(e,t,n,r,i,a,o,s){var c=on(i||a||e);return{message:tn(e,c),url:t,lineNumber:n,columnNumber:r,error:sn(i||a||e),evt:sn(a||e),typeName:c,stackDetails:an(o||i||a),errorSrc:s}},un.CreateFromInterface=function(t,e,n,r){var i=e.exceptions&&le(e.exceptions,function(e){return fn.CreateFromInterface(t,e)});return new un(t,M(M({},e),{exceptions:i}),n,r)},un.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,a=e.problemGroup,o=e.id,e=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&le(t,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:o,isManual:e}},un.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},un.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",un.dataType="ExceptionData",un.formatError=sn;var cn,ln=un;function un(e,t,n,r,i,a){var o=cn.call(this)||this;return o.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){try{if(ie(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}}(t)?(o.exceptions=t.exceptions,o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),o.ver=2,k(t.isManual)||(o.isManual=t.isManual)):(o.exceptions=[new fn(e,t,n=n||{})],o.properties=kt(e,n),o.measurements=Pt(e,r),i&&(o.severityLevel=i),a&&(o.id=a)),o}e(pn,gn=function(){this.hasFullStack=!0,this.parsedStack=[]}),pn.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&le(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Xt],parsedStack:e||undefined}},pn.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&le(t.parsedStack,function(e){return hn.CreateFromInterface(e)})||t.parsedStack;return new pn(e,M(M({},t),{parsedStack:n}))};var gn,fn=pn;function pn(e,t,n){var l,r,i,a,o,s=gn.call(this)||this;return s.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(ie(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}}(t)?(s.typeName=t.typeName,s.message=t.message,s[Xt]=t[Xt],s.parsedStack=t.parsedStack,s.hasFullStack=t.hasFullStack):(r=(a=t)&&a.evt,se(a)||(a=a[Ht]||r||a),s.typeName=Ct(e,on(a))||Mt,s.message=St(e,tn(t||a,s.typeName))||Mt,l=t[$t]||an(t),s.parsedStack=function(){var e=l.obj;if(e&&0<e.length){var t=[],n=0,r=0;if(ce(e,function(e){var e=e.toString();hn.regex.test(e)&&(e=new hn(e,n++),r+=e.sizeInBytes,t.push(e))}),32768<r)for(var i=0,a=t.length-1,o=0,s=i,c=a;i<a;){if(32768<(o+=t[i].sizeInBytes+t[a].sizeInBytes)){t.splice(s,c-s+1);break}s=i,c=a,i++,a--}}return t}(),s[Xt]=(r=e,o="",(a=l)&&(a.obj?ce(a.obj,function(e){o+=e+"\n"}):o=a.src||""),!(t=o)||32768<(e=""+t).length&&(i=e.substring(0,32768),r&&r.throwInternal(x.WARNING,S.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0)),i||t),s.hasFullStack=oe(s.parsedStack)&&0<s.parsedStack.length,n&&(n.typeName=n.typeName||s.typeName)),s}e(vn,dn=function(){}),vn.CreateFromInterface=function(e){return new vn(e,null)},vn.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},vn.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,vn.baseSize=58;var dn,mn,hn=vn;function vn(e,t){var n,r=dn.call(this)||this;return r.sizeInBytes=0,r.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof e?(n=e,r.level=t,r.method="<no_method>",r.assembly=ue(n),r.fileName="",r.line=0,(t=n.match(vn.regex))&&5<=t.length&&(r.method=ue(t[2])||r.method,r.fileName=ue(t[4]),r.line=parseInt(t[5])||0)):(r.level=e.level,r.method=e.method,r.assembly=e.assembly,r.fileName=e.fileName,r.line=e.line,r.sizeInBytes=0),r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=vn.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length,r}mn=0,e(wn,yn=function(){this.kind=mn});var yn,Tn=wn;function wn(){var e=null!==yn&&yn.apply(this,arguments)||this;return e.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},e}e(xn,In=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}),xn.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",xn.dataType="MetricData";var In,Cn=xn;function xn(e,t,n,r,i,a,o,s,u){var c=In.call(this)||this,l=(c.aiDataContract={ver:1,metrics:1,properties:0},new Tn);return l.count=0<r?r:undefined,l.max=isNaN(a)||null===a?undefined:a,l.min=isNaN(i)||null===i?undefined:i,l.name=Ct(e,t)||Mt,l.value=n,l.stdDev=isNaN(o)||null===o?undefined:o,c.metrics=[l],c.properties=kt(e,s),c.measurements=Pt(e,u),c}e(kn,Sn=u);var Sn,u=kn;function kn(){var e=Sn.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}e(Nn,Pn=u),Nn.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Nn.dataType="PageviewData";var Pn,bn=Nn;function Nn(e,t,n,r,i,a,o){var s=Pn.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},s.id=o&&bt(e,o,128,S.IdTooLong).toString(),s.url=xt(e,n),s.name=Ct(e,t)||Mt,isNaN(r)||(s.duration=Lt(r)),s.properties=kt(e,i),s.measurements=Pt(e,a),s}e(An,En=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),An.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",An.dataType="RemoteDependencyData";var En,Ln=An;function An(e,t,n,u,r,g,i,a,o,f,p,d){void 0===o&&(o="Ajax");var m,s,c,l=En.call(this)||this,n=(l.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},l.id=t,l.duration=Lt(r),l.success=g,l.resultCode=i+"",l.type=Ct(e,o),t=e,r=a,o=i=g=u,i=(a=n)&&0<a.length?(m=a,c=(n=Wt)[s=zt],jt.createElement?n[s]||(c=n[s]=jt.createElement("a")):c={host:function(){e=null,!m||null!=(n=m.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<n.length&&b(n[2])&&0<n[2].length&&(e=n[2]||"",2<n.length&&(t=(n[1]||"").toLowerCase(),n=n[3]||"",e+=n="http"==t&&":80"===n||"https"==t&&":443"===n?"":n));var e,t=e||"";if(t){var n=t.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=n&&3<n.length&&b(n[2])&&0<n[2].length)return n[2]+(n[3]||"")}return t}()},c.href=m,++s>=n.length&&(s=0),zt=s,s=(n=c).host,i||(null!=n.pathname?("/"!=((c=0===n.pathname.length?"/":n.pathname)[0]||"")&&(c="/"+c),o=n.pathname,Ct(t,r?r+" "+c:c)):Ct(t,a))):s=g,{target:s,name:i,data:o});return l.data=xt(e,u)||n.data,l.target=Ct(e,n.target),f&&(l.target="".concat(l.target," | ").concat(f)),l.name=Ct(e,n.name),l.properties=kt(e,p),l.measurements=Pt(e,d),l}e(Dn,Mn=function(){this.ver=2,this.properties={},this.measurements={}}),Dn.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Dn.dataType="MessageData";var Mn,Rn,Vn=Dn;function Dn(e,t,n,r,i){var a=Mn.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},a.message=St(e,t=t||Mt),a.properties=kt(e,r),a.measurements=Pt(e,i),n&&(a.severityLevel=n),a}function Fn(){var e=Rn.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}e(Fn,Rn=u),e(Un,_n=Fn),Un.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Un.dataType="PageviewPerformanceData";var _n,On,Bn=Un;function Un(e,t,n,r,i,a,o){var s=_n.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},s.url=xt(e,n),s.name=Ct(e,t)||Mt,s.properties=kt(e,i),s.measurements=Pt(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}On={Verbose:0,0:"Verbose",Information:1,1:"Information",Warning:2,2:"Warning",Error:3,3:"Error",Critical:4,4:"Critical"},zn.create=function(e,t,n,r,i,a){if(n=Ct(r,n)||Mt,k(e)||k(t)||k(n))throw Error("Input doesn't contain all required fields");var r="",o=(e[Rt]&&(r=e[Rt],delete e[Rt]),{name:n,time:function(e){var t;if(e)return e[Y]?e[Y]():"[object Date]"===te(e)?(t=function(e){e=""+e;return 1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"):void 0}(new Date),iKey:r,ext:a||{},tags:[],data:{},baseType:t,baseData:e});return k(i)||ae(i,function(e,t){o.data[e]=t}),o};var jn=zn;function zn(){}var Wn=function ir(d,m,t,h){Q(ir,this,function(e){var u,n=null,g=[],f=!1;function p(){t&&ce(t.getTransmissionControls(),function(e){ce(e,function(e){return e.flush(!0)})})}t&&(u=t.logger),e.trackPageView=function(r,i){var e,a=r.name,o=(!k(a)&&"string"==typeof a||(e=ke(),a=r.name=e&&e.title||""),r.uri);if(!k(o)&&"string"==typeof o||(e=be(),o=r.uri=e&&e.href||""),!h.isPerformanceTimingSupported())return d.sendPageViewInternal(r,i),p(),void u.throwInternal(x.WARNING,S.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,c=!1,l=h.getPerformanceTiming().navigationStart;0<l&&(s=Gt(l,+new Date),h.shouldCollectDuration(s)||(s=undefined)),k(i)||k(i.duration)||(t=i.duration),!m&&isNaN(t)||(isNaN(t)&&((i=i||{}).duration=s),d.sendPageViewInternal(r,i),p(),c=!0),i=i||{},g.push(function(){var e,t=!1;try{h.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},h.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(i.duration=e.durationMs,d.sendPageViewInternal(r,i)),f||(d.sendPageViewPerformanceInternal(e,i),f=!0)):(i.duration=s,d.sendPageViewInternal(r,i))):0<l&&6e4<Gt(l,+new Date)&&(t=!0,c||(i.duration=6e4,d.sendPageViewInternal(r,i)))}catch(n){u.throwInternal(x.CRITICAL,S.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+N(n),{exception:L(n)})}return t}),n=n||setInterval(function(){var e=g.slice(0),t=!1;g=[],ce(e,function(e){e()?t=!0:g.push(e)}),0===g.length&&(clearInterval(n),n=null),t&&p()},100)}})},Gn=(Kn.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+L(r))}},Kn.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return this._logger.warnToConsole("Call to restart failed: "+L(r)),null}},Kn.prototype.startPageVisitTimer=function(e,t){try{if(_t()){if(null!=Ot(this._logger,this.prevPageVisitDataKeyName))throw Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new qn(e,t),r=Le().stringify(n);Bt(this._logger,this.prevPageVisitDataKeyName,r)}}catch(i){this._logger.warnToConsole("Call to start failed: "+L(i))}},Kn.prototype.stopPageVisitTimer=function(){try{var e,t,n;return _t()?(e=ge(),(t=Ot(this._logger,this.prevPageVisitDataKeyName))&&Ee()?((n=Le().parse(t)).pageVisitTime=e-n.pageVisitStartTime,Ut(this._logger,this.prevPageVisitDataKeyName),n):null):null}catch(r){return this._logger.warnToConsole("Stop page visit timer failed: "+L(r)),null}},Kn);function Kn(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var qn=function(e,t){this.pageVisitStartTime=ge(),this.pageName=e,this.pageUrl=t},Jn=(Hn.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,a=0,o=0;(t||n)&&(t=t?(r=t.duration,i=0===t.startTime?t.connectEnd:Gt(t.startTime,t.connectEnd),a=Gt(t.requestStart,t.responseStart),o=Gt(t.responseStart,t.responseEnd),Gt(t.responseEnd,t.loadEventEnd)):(r=Gt(n.navigationStart,n.loadEventEnd),i=Gt(n.navigationStart,n.connectEnd),a=Gt(n.requestStart,n.responseStart),o=Gt(n.responseStart,n.responseEnd),Gt(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(x.WARNING,S.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:t}):this.shouldCollectDuration(r,i,a,o,t)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(t)?this._logger.throwInternal(x.WARNING,S.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:a,response:o,dom:t}):(e.durationMs=r,e.perfTotal=e.duration=Lt(r),e.networkConnect=Lt(i),e.sentRequest=Lt(a),e.receivedResponse=Lt(o),e.domProcessing=Lt(t),e.isValid=!0):this._logger.throwInternal(x.WARNING,S.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:t}))},Hn.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Ne().timing:null},Hn.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Ne().getEntriesByType("navigation")[0]:null},Hn.prototype.isPerformanceNavigationTimingSupported=function(){var e=Ne();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},Hn.prototype.isPerformanceTimingSupported=function(){var e=Ne();return e&&e.timing},Hn.prototype.isPerformanceTimingDataReady=function(){var e=Ne(),e=e?e.timing:0;return e&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},Hn.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=(Pe()||{}).userAgent,i=!1;if(r)for(var a=0;a<n.length;a++)i=i||!!~r.toLowerCase().indexOf(n[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},Hn);function Hn(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Xn,$n="duration",Zn="event";function Qn(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}function Yn(){var v,y,T,w,I,C=Xn.call(this)||this;return C.identifier="ApplicationInsightsAnalytics",C.priority=180,C.autoRoutePVDelay=500,Q(Yn,C,function(m,h){var e=be(!0);w=e&&e.href||"",m.getCookieMgr=function(){return(t=(n=m.core)?n.getCookieMgr():t)||(n=(n||{}).logger,(r=lt[et]||st[et])||(r=lt[et]=lt(e,n),st[et]=r),t=r),t;var e,t,n,r},m.processTelemetry=function(a,o){je(m.core,function(){return m.identifier+":processTelemetry"},function(){var e=!1,t=m._telemetryInitializers.length;o=m._getTelCtx(o);for(var n=0;n<t;++n){var r=m._telemetryInitializers[n];if(r)try{if(!1===r.call(null,a)){e=!0;break}}catch(i){o.diagLog().throwInternal(x.CRITICAL,S.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+N(i),{exception:L(i)},!0)}}e||m.processNext(a,o)},function(){return{item:a}},!a.sync)},m.trackEvent=function(e,t){try{var n=jn.create(e,qt.dataType,qt.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(x.WARNING,S.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+N(r),{exception:L(r)})}},m.startTrackEvent=function(e){try{v.start(e)}catch(t){m.diagLog().throwInternal(x.CRITICAL,S.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+N(t),{exception:L(t)})}},m.stopTrackEvent=function(e,t,n){try{v.stop(e,undefined,t)}catch(r){m.diagLog().throwInternal(x.CRITICAL,S.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+N(r),{exception:L(r)})}},m.trackTrace=function(e,t){try{var n=jn.create(e,Vn.dataType,Vn.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(x.WARNING,S.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+N(r),{exception:L(r)})}},m.trackMetric=function(e,t){try{var n=jn.create(e,Cn.dataType,Cn.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(x.CRITICAL,S.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+N(r),{exception:L(r)})}},m.trackPageView=function(e,t){try{var n=e||{};m._pageViewManager.trackPageView(n,M(M(M({},n.properties),n.measurements),t)),m.config.autoTrackPageVisitTime&&m._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(r){m.diagLog().throwInternal(x.CRITICAL,S.TrackPVFailed,"trackPageView failed, page view will not be collected: "+N(r),{exception:L(r)})}},m.sendPageViewInternal=function(e,t,n){var r=ke(),r=(r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri),jn.create(e,bn.dataType,bn.envelopeType,m.diagLog(),t,n));m.core.track(r)},m.sendPageViewPerformanceInternal=function(e,t,n){e=jn.create(e,Bn.dataType,Bn.envelopeType,m.diagLog(),t,n);m.core.track(e)},m.trackPageViewPerformance=function(e,t){try{m._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),m.sendPageViewPerformanceInternal(e,t)}catch(n){m.diagLog().throwInternal(x.CRITICAL,S.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+N(n),{exception:L(n)})}},m.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=ke())&&t.title||""),y.start(e)}catch(n){m.diagLog().throwInternal(x.CRITICAL,S.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+N(n),{exception:L(n)})}},m.stopTrackPage=function(e,t,n,r){try{var i,a;"string"!=typeof e&&(e=(i=ke())&&i.title||""),"string"!=typeof t&&(t=(a=be())&&a.href||""),y.stop(e,t,n,r),m.config.autoTrackPageVisitTime&&m._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){m.diagLog().throwInternal(x.CRITICAL,S.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+N(o),{exception:L(o)})}},m.sendExceptionInternal=function(e,t,n){var r=e.exception||e.error||Error(Mt),r=new ln(m.diagLog(),r,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),e=jn.create(r,ln.dataType,ln.envelopeType,m.diagLog(),t,n);m.core.track(e)},m.trackException=function(e,t){try{m.sendExceptionInternal(e,t)}catch(n){m.diagLog().throwInternal(x.CRITICAL,S.TrackExceptionFailed,"trackException failed, exception will not be collected: "+N(n),{exception:L(n)})}},m._onerror=function(e){var t,n,u,r=e&&e.error,i=e&&e.evt;try{i||(c=Se())&&(i=c[Zn]);var a=e&&e.url||(ke()||{}).URL,o=e.errorSrc||"window.onerror@"+a+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),g={errorSrc:o,url:a,lineNumber:e.lineNumber||0,columnNumber:e.columnNumber||0,message:e.message},s=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!b(s)||"Script error."!==s&&"Script error"!==s?(e.errorSrc||(e.errorSrc=o),m.trackException({exception:e,severityLevel:On.Error},g)):(t=ln.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,e.lineNumber||0,e.columnNumber||0,r,i,null,o),n=g,u=jn.create(t,ln.dataType,ln.envelopeType,m.diagLog(),n),m.core.track(u))}catch(l){var c=r?r.name+", "+r.message:"null";m.diagLog().throwInternal(x.CRITICAL,S.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+N(l),{exception:L(l),errorString:c})}},m.addTelemetryInitializer=function(e){m._telemetryInitializers.push(e)},m.initialize=function(e,t,n,r){if(!m.isInitialized()){if(k(t))throw Error("Error initializing");h.initialize(e,t,n,r),m.setInitialized(!1);var i,u=m._getTelCtx(),g=m.identifier,t=(m.config=u.getExtCfg(g),Yn.getDefaultConfig(e)),r=(t!==undefined&&ae(t,function(e,t){m.config[e]=u.getConfig(g,e,t),m.config[e]===undefined&&(m.config[e]=t)}),m.config.isStorageUseDisabled&&(Vt=!1),{instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return m.config.accountId||e.accountId},sessionRenewalMs:function(){return m.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return m.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return m.config.samplingPercentage||e.samplingPercentage},sdkExtension:function(){return m.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return m.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return m.config.appId||e.appId}});m._pageViewPerformanceManager=new Jn(m.core),m._pageViewManager=new Wn(C,m.config.overridePageViewDuration,m.core,m._pageViewPerformanceManager),m._pageVisitTimeManager=new Gn(m.diagLog(),function(e,t,n){m.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},{PageName:e,PageUrl:t})}),m._telemetryInitializers=m._telemetryInitializers||[],r.isBrowserLinkTrackingEnabled()||(i=["/browserLinkSignalR/","/__browserLink/"],m._telemetryInitializers.push(function(e){if(e.baseType===Ln.dataType){var t=e.baseData;if(t)for(var n=0;n<i.length;n++)if(t.target&&~t.target.indexOf(i[n]))return!1}return!0})),(v=new er(m.diagLog(),"trackEvent")).action=function(e,t,n,r){(r=r||{})[$n]=n.toString(),m.trackEvent({name:e,properties:r})},(y=new er(m.diagLog(),"trackPageView")).action=function(e,t,n,r,i){(r=k(r)?{}:r)[$n]=n.toString(),m.sendPageViewInternal({name:e,uri:t,properties:r,measurements:i},r)};var s,a,o,f,p,c=Se(),t=typeof history===A&&history?history:E("history"),l=be(!0),d=C;!1===m.config.disableExceptionTracking&&!m.config.autoExceptionInstrumented&&c&&(s=c.onerror,c.onerror=function(e,t,n,r,i){var a=c[Zn],o=s&&s(e,t,n,r,i);return!0!==o&&d._onerror(ln.CreateAutoException(e,t,n,r,i,a)),o},m.config.autoExceptionInstrumented=!0),!1===m.config.disableExceptionTracking&&!0===m.config.enableUnhandledPromiseRejectionTracking&&!m.config.autoUnhandledPromiseInstrumented&&c&&(a=c.onunhandledrejection,c.onunhandledrejection=function(e){var t,n,r=c[Zn],i=a&&a.call(c,e);return!0!==i&&d._onerror(ln.CreateAutoException((t=e)&&t.reason?!b(n=t.reason)&&P(n.toString)?n.toString():L(n):t||"",l?l.href:"",0,0,e,r)),i},m.config.autoUnhandledPromiseInstrumented=!0),!0===m.config.enableAutoRouteTracking&&t&&P(t.pushState)&&P(t.replaceState)&&c&&"undefined"!=typeof Event&&(o=C,ce(n,function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(T=e)}),t.pushState=(p=t.pushState,function(){var e=p.apply(this,arguments);return Qn(c,Nt(o.config.namePrefix+"pushState")),Qn(c,Nt(o.config.namePrefix+"locationchange")),e}),t.replaceState=(f=t.replaceState,function(){var e=f.apply(this,arguments);return Qn(c,Nt(o.config.namePrefix+"replaceState")),Qn(c,Nt(o.config.namePrefix+"locationchange")),e}),c.addEventListener&&(c.addEventListener(o.config.namePrefix+"popstate",function(){Qn(c,Nt(o.config.namePrefix+"locationchange"))}),c.addEventListener(o.config.namePrefix+"locationchange",function(){var e;T&&T.context&&T.context.telemetryTrace&&(T.context.telemetryTrace.traceID=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=wt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&wt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}(),e="_unknown_",l&&l.pathname&&(e=l.pathname+(l.hash||"")),T.context.telemetryTrace.name=Ct(o.diagLog(),e)),I&&(w=I),I=l&&l.href||"",setTimeout((function(e){o.trackPageView({refUri:e,properties:{duration:0}})}).bind(C,w),o.autoRoutePVDelay)}))),m.setInitialized(!0)}}}),C}e(Yn,Xn=c),Yn.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Et(e.disableExceptionTracking),e.autoTrackPageVisitTime=Et(e.autoTrackPageVisitTime),e.overridePageViewDuration=Et(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Et(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Et(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Et(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Et(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Et(e.enableDebug),e.disableFlushOnBeforeUnload=Et(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Et(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},Yn.Version="2.7.3";var er=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&a.throwInternal(x.WARNING,S.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,r){var i=s[e];isNaN(i)?a.throwInternal(x.WARNING,S.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:e,key:e},!0):(i=Gt(i,+new Date),o.action(e,t,i,n,r)),delete s[e],s[e]=undefined}},u=(t.ApplicationInsights=Yn,t),c="__esModule",t={value:!0},tr=Object.defineProperty;if(tr)try{return void tr(u,c,t)}catch(ar){}typeof t.value!==undefined&&(u[c]=t.value)};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}));
//# sourceMappingURL=applicationinsights-analytics-js.min.js.map
